<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title>Profile</title>
    <link rel="stylesheet" type="text/css" th:href="@{css/profile.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
</head>
<body>

<style>
/* Navigation bar */
nav {
    background-color: #7695FF;
    padding: 15px;
    display: flex;
    justify-content: space-around;
    align-items: center;
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
}

nav a {
    color: white;
    font-size: 1.2em;
    text-decoration: none;
    padding: 10px 15px;
    transition: background-color 0.3s ease;
    border-radius: 10px;
}

nav a:hover {
    background-color: #9DBDFF;
    color: #fff;
}

/* Posts container */
.posts-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    width: 100%;
}

/* Post card */
.post-card {
    background-color: white;
    border-radius: 15px;
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
    width: 500px;
    margin-bottom: 20px;
    padding: 20px;
}

/* Post Header - Profile picture and Username */
.post-header {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
}

.profile-pic {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    overflow: hidden;
    margin-right: 15px;
}

.profile-pic img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.username {
    font-size: 1.3em;
    font-weight: bold;
}

/* Post Image */
.post-image img {
    max-width: 100%;
    border-radius: 10px;
    margin-bottom: 15px;
}
.image-container {
    display: flex;              /* Displays the images in a row */
    justify-content: center;    /* Centers the images horizontally */
    flex-wrap: wrap;            /* Wraps the images if there are too many to fit in one row */
    gap: 20px; 
    margin: 30px;                 /* Adds some spacing between the images */
}

.profile-photo {
    width: 150px;   /* Set all images to a fixed width */
    height: 150px;  /* Set all images to a fixed height */
    object-fit: cover; /* Ensures the image fills the space while maintaining aspect ratio */
    border-radius: 10px; /* Optional: makes the corners of the image rounded */
}

</style>

    <!-- Navbar -->
    <nav style="margin: 20px">
        <a href="/goHome">News feed</a>
        <a href="/post">Create post</a>
        <a href="/myprofile">My profile</a>
        <a href="/logout">Logout</a>
    </nav>

    <div class="container">

        <div class="row">
            <!-- Profile Photo and Info -->
            <div class="col-md-4 text-center" >
                <p><strong>Profile Photo:</strong></p>
                <img th:if="${user.photoBase64}" th:src="'data:image/jpeg;base64,' + ${user.photoBase64}" alt="Profile Photo" class="img-fluid rounded-circle mb-3" style="max-width: 200px;" />
            </div>

            <div class="col-md-8" >
                <div class="card">
                    <div class="card-body" >
                        <p><strong>Username: </strong><span th:text="${user.username}"></span></p>
                        <p><strong>Email: </strong><span th:text="${user.email}"></span></p>
                        <p><strong>DOB: </strong><span th:text="${user.dob}"></span></p>
                        <p><strong>Gender: </strong><span th:text="${user.gender}"></span></p>
                        <p><strong>City: </strong><span th:text="${user.city}"></span></p>
                        <p><strong>Bio: </strong><span th:text="${user.bio}"></span></p>
                        <p><strong>College: </strong><span th:text="${user.college}"></span></p>
                        <div style="display: flex; flex-direction: row;">
                        <p style="margin: 10px;"><a th:href="${user.linkedin}" target="_blank" ><img th:src="@{images/linkedin.png}" height="30px" width="30px"></img></a></p>
                        <p style="margin: 10px;"><a th:href="${user.github}" target="_blank"><img th:src="@{images/github.png}" height="30px" width="30px"></img></a></p>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        
    </div>
   <div class="image-container" >
    <span th:each="post : ${user.posts}">
       <a th:href="@{/allposts/{id}(id=${post.user.id})}"> <img th:if="${post.photoBase64}" 
             th:src="'data:image/jpeg;base64,' + ${post.photoBase64}" 
             alt="Profile Photo" 
             class="profile-photo"/>
       </a>
    </span>
</div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXlI97prEpBpcfETvPp5l0g6DuEodP1C6Cl1q1ZZg76szpRzn3dqQK/U6pGz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGKtO0r1yRer4gxPSPaWGl5Lf5SJ1z1bVVU/8t7/An1gS47Ox8xmc6MRR8p" crossorigin="anonymous"></script>
</body>
</html>
