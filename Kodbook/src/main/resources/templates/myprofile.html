<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Profile</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<link rel="stylesheet" type="text/css" th:href="@{css/profile.css}">
</head>
<body>
	<!-- Navbar -->
	<nav style="margin: 20px" th:replace="home::navbar">
		
	</nav>

	<div class="container">

		<div class="row">
			<!-- Profile Photo and Info -->
			<div class="col-md-4 text-center">
				<p>
					<strong>Profile Photo:</strong>
				</p>
				<img th:if="${user.photoBase64}"
					th:src="'data:image/jpeg;base64,' + ${user.photoBase64}"
					alt="Profile Photo" class="img-fluid rounded-circle mb-3"
					style="max-width: 200px;" />
			</div>

			<div class="col-md-8">
				<div class="card">
					<div class="card-body">
						<p>
							<strong>Username: </strong><span th:text="${user.username}"></span>
						</p>
						<p>
							<strong>Email: </strong><span th:text="${user.email}"></span>
						</p>
						<p>
							<strong>DOB: </strong><span th:text="${user.dob}"></span>
						</p>
						<p>
							<strong>Gender: </strong><span th:text="${user.gender}"></span>
						</p>
						<p>
							<strong>City: </strong><span th:text="${user.city}"></span>
						</p>
						<p>
							<strong>Bio: </strong><span th:text="${user.bio}"></span>
						</p>
						<p>
							<strong>College: </strong><span th:text="${user.college}"></span>
						</p>
						<div style="display: flex; flex-direction: row;">
							<p style="margin: 10px;">
								<a th:href="${user.linkedin}" target="_blank"><img
									th:src="@{images/linkedin.png}" height="30px" width="30px"></img></a>
							</p>
							<p style="margin: 10px;">
								<a th:href="${user.github}" target="_blank"><img
									th:src="@{images/github.png}" height="30px" width="30px"></img></a>
							</p>
						</div>

						<!-- Edit Profile Button -->
						<div class="mt-4 text-center">
							<a href="/editprofile" class="btn btn-primary">Edit Profile</a>
						</div>

						<div class="three-dot-menu">
							<div class="dots">
								<span></span> <span></span> <span></span>
							</div>
							<div class="dropdown-menu">
								<button><a href="deleteuser">Delete</a></button>
							</div>
						</div>
					</div>
				</div>
			</div>


		</div>
		<div class="image-container">
			<span th:each="post : ${user.posts}"> 
			<a
				th:href="@{/allposts/{id}(id=${post.user.id})}"> <img
					th:if="${post.photoBase64}"
					th:src="'data:image/jpeg;base64,' + ${post.photoBase64}"
					alt="Profile Photo" class="profile-photo" />
			</a>
			</span>
		</div>

		<!-- Bootstrap JS -->
		<script
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
			integrity="sha384-IQsoLXlI97prEpBpcfETvPp5l0g6DuEodP1C6Cl1q1ZZg76szpRzn3dqQK/U6pGz"
			crossorigin="anonymous"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
			integrity="sha384-cVKIPhGKtO0r1yRer4gxPSPaWGl5Lf5SJ1z1bVVU/8t7/An1gS47Ox8xmc6MRR8p"
			crossorigin="anonymous"></script>
<script type="text/javascript" th:src="@{script/profile.js}"></script>
</body>
</html>
